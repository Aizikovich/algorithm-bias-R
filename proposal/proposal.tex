% Options for packages loaded elsewhere
\PassOptionsToPackage{unicode}{hyperref}
\PassOptionsToPackage{hyphens}{url}
%
\documentclass[
]{article}
\usepackage{amsmath,amssymb}
\usepackage{lmodern}
\usepackage{iftex}
\ifPDFTeX
  \usepackage[T1]{fontenc}
  \usepackage[utf8]{inputenc}
  \usepackage{textcomp} % provide euro and other symbols
\else % if luatex or xetex
  \usepackage{unicode-math}
  \defaultfontfeatures{Scale=MatchLowercase}
  \defaultfontfeatures[\rmfamily]{Ligatures=TeX,Scale=1}
\fi
% Use upquote if available, for straight quotes in verbatim environments
\IfFileExists{upquote.sty}{\usepackage{upquote}}{}
\IfFileExists{microtype.sty}{% use microtype if available
  \usepackage[]{microtype}
  \UseMicrotypeSet[protrusion]{basicmath} % disable protrusion for tt fonts
}{}
\makeatletter
\@ifundefined{KOMAClassName}{% if non-KOMA class
  \IfFileExists{parskip.sty}{%
    \usepackage{parskip}
  }{% else
    \setlength{\parindent}{0pt}
    \setlength{\parskip}{6pt plus 2pt minus 1pt}}
}{% if KOMA class
  \KOMAoptions{parskip=half}}
\makeatother
\usepackage{xcolor}
\IfFileExists{xurl.sty}{\usepackage{xurl}}{} % add URL line breaks if available
\IfFileExists{bookmark.sty}{\usepackage{bookmark}}{\usepackage{hyperref}}
\hypersetup{
  pdftitle={Project proposal},
  pdfauthor={Team Y},
  hidelinks,
  pdfcreator={LaTeX via pandoc}}
\urlstyle{same} % disable monospaced font for URLs
\usepackage[margin=1in]{geometry}
\usepackage{color}
\usepackage{fancyvrb}
\newcommand{\VerbBar}{|}
\newcommand{\VERB}{\Verb[commandchars=\\\{\}]}
\DefineVerbatimEnvironment{Highlighting}{Verbatim}{commandchars=\\\{\}}
% Add ',fontsize=\small' for more characters per line
\usepackage{framed}
\definecolor{shadecolor}{RGB}{248,248,248}
\newenvironment{Shaded}{\begin{snugshade}}{\end{snugshade}}
\newcommand{\AlertTok}[1]{\textcolor[rgb]{0.94,0.16,0.16}{#1}}
\newcommand{\AnnotationTok}[1]{\textcolor[rgb]{0.56,0.35,0.01}{\textbf{\textit{#1}}}}
\newcommand{\AttributeTok}[1]{\textcolor[rgb]{0.77,0.63,0.00}{#1}}
\newcommand{\BaseNTok}[1]{\textcolor[rgb]{0.00,0.00,0.81}{#1}}
\newcommand{\BuiltInTok}[1]{#1}
\newcommand{\CharTok}[1]{\textcolor[rgb]{0.31,0.60,0.02}{#1}}
\newcommand{\CommentTok}[1]{\textcolor[rgb]{0.56,0.35,0.01}{\textit{#1}}}
\newcommand{\CommentVarTok}[1]{\textcolor[rgb]{0.56,0.35,0.01}{\textbf{\textit{#1}}}}
\newcommand{\ConstantTok}[1]{\textcolor[rgb]{0.00,0.00,0.00}{#1}}
\newcommand{\ControlFlowTok}[1]{\textcolor[rgb]{0.13,0.29,0.53}{\textbf{#1}}}
\newcommand{\DataTypeTok}[1]{\textcolor[rgb]{0.13,0.29,0.53}{#1}}
\newcommand{\DecValTok}[1]{\textcolor[rgb]{0.00,0.00,0.81}{#1}}
\newcommand{\DocumentationTok}[1]{\textcolor[rgb]{0.56,0.35,0.01}{\textbf{\textit{#1}}}}
\newcommand{\ErrorTok}[1]{\textcolor[rgb]{0.64,0.00,0.00}{\textbf{#1}}}
\newcommand{\ExtensionTok}[1]{#1}
\newcommand{\FloatTok}[1]{\textcolor[rgb]{0.00,0.00,0.81}{#1}}
\newcommand{\FunctionTok}[1]{\textcolor[rgb]{0.00,0.00,0.00}{#1}}
\newcommand{\ImportTok}[1]{#1}
\newcommand{\InformationTok}[1]{\textcolor[rgb]{0.56,0.35,0.01}{\textbf{\textit{#1}}}}
\newcommand{\KeywordTok}[1]{\textcolor[rgb]{0.13,0.29,0.53}{\textbf{#1}}}
\newcommand{\NormalTok}[1]{#1}
\newcommand{\OperatorTok}[1]{\textcolor[rgb]{0.81,0.36,0.00}{\textbf{#1}}}
\newcommand{\OtherTok}[1]{\textcolor[rgb]{0.56,0.35,0.01}{#1}}
\newcommand{\PreprocessorTok}[1]{\textcolor[rgb]{0.56,0.35,0.01}{\textit{#1}}}
\newcommand{\RegionMarkerTok}[1]{#1}
\newcommand{\SpecialCharTok}[1]{\textcolor[rgb]{0.00,0.00,0.00}{#1}}
\newcommand{\SpecialStringTok}[1]{\textcolor[rgb]{0.31,0.60,0.02}{#1}}
\newcommand{\StringTok}[1]{\textcolor[rgb]{0.31,0.60,0.02}{#1}}
\newcommand{\VariableTok}[1]{\textcolor[rgb]{0.00,0.00,0.00}{#1}}
\newcommand{\VerbatimStringTok}[1]{\textcolor[rgb]{0.31,0.60,0.02}{#1}}
\newcommand{\WarningTok}[1]{\textcolor[rgb]{0.56,0.35,0.01}{\textbf{\textit{#1}}}}
\usepackage{graphicx}
\makeatletter
\def\maxwidth{\ifdim\Gin@nat@width>\linewidth\linewidth\else\Gin@nat@width\fi}
\def\maxheight{\ifdim\Gin@nat@height>\textheight\textheight\else\Gin@nat@height\fi}
\makeatother
% Scale images if necessary, so that they will not overflow the page
% margins by default, and it is still possible to overwrite the defaults
% using explicit options in \includegraphics[width, height, ...]{}
\setkeys{Gin}{width=\maxwidth,height=\maxheight,keepaspectratio}
% Set default figure placement to htbp
\makeatletter
\def\fps@figure{htbp}
\makeatother
\setlength{\emergencystretch}{3em} % prevent overfull lines
\providecommand{\tightlist}{%
  \setlength{\itemsep}{0pt}\setlength{\parskip}{0pt}}
\setcounter{secnumdepth}{-\maxdimen} % remove section numbering
\ifLuaTeX
  \usepackage{selnolig}  % disable illegal ligatures
\fi

\title{Project proposal}
\author{Team Y}
\date{}

\begin{document}
\maketitle

\hypertarget{introduction}{%
\subsection{1. Introduction}\label{introduction}}

We live in an information age in which many decisions are made by
various software programs that use data annotated by humans. These types
of decision-making are seemingly sterile and free from prejudice. That
perspective gives software decision-making a huge public validation
since software programs are unbiased, but is that so?

In this project, we decided to focus on the field that is known as
``Algorithmic bias''. The reason we chose this subject is that it has an
enormous impact on us as a society daily. For example, software for
criminal sentencing was found to be biased against blacks.

Attached to this introduction you will find articles on the subject.
Supervised learning models that are used in various software programs
use train sets -- or in other words, annotated data. The question we
wish to ask is: ``Could there be a significant biased connection between
the annotator's background and the way they will rate hate speech? If so
quantile its intensity''.

To try and answer this question, we will use statistical methods on a
dataset from a paper published by Berkeley University, we will extend
more about it in Section 2.

\hypertarget{data}{%
\subsection{2. Data}\label{data}}

In this project, we are using data published in an article made in
Berkeley university as explained in section 1. link to both article and
dataset are attached at the end of this section. Here is a glimpse of
the data.

\begin{verbatim}
## Rows: 135,556
## Columns: 30
## $ comment_id          <int> 47777, 39773, 47101, 43625, 12538, 11001, 13168, 1~
## $ annotator_id        <int> 10873, 2790, 3379, 7365, 488, 527, 3275, 6801, 103~
## $ sentiment           <dbl> 0, 0, 4, 2, 4, 1, 4, 4, 4, 4, 0, 3, 4, 2, 3, 3, 2,~
## $ respect             <dbl> 0, 0, 4, 3, 4, 1, 4, 4, 4, 4, 0, 3, 2, 2, 3, 1, 2,~
## $ insult              <dbl> 0, 0, 4, 2, 4, 0, 4, 4, 4, 4, 0, 3, 1, 2, 3, 0, 3,~
## $ humiliate           <dbl> 0, 0, 4, 1, 4, 0, 4, 4, 3, 4, 0, 3, 2, 2, 3, 0, 2,~
## $ dehumanize          <dbl> 0, 0, 4, 0, 4, 0, 3, 0, 3, 4, 0, 2, 3, 2, 3, 0, 2,~
## $ violence            <dbl> 0, 0, 0, 0, 4, 0, 0, 0, 0, 4, 0, 1, 0, 2, 0, 0, 0,~
## $ genocide            <dbl> 0, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0, 1, 0, 0, 0, 0, 0,~
## $ attack_defend       <dbl> 0, 2, 4, 3, 3, 2, 3, 3, 1, 4, 2, 2, 2, 2, 3, 0, 2,~
## $ hatespeech          <dbl> 0, 0, 2, 0, 2, 0, 2, 2, 0, 2, 0, 0, 0, 0, 0, 0, 1,~
## $ hate_speech_score   <dbl> -3.90, -6.52, 0.36, 0.26, 1.54, -4.93, 0.17, 2.08,~
## $ infitms             <dbl> 0.81, 0.96, 0.90, 0.81, 0.76, 0.59, 1.11, 0.75, 0.~
## $ outfitms            <dbl> 1.88, 0.43, 0.74, 0.68, 0.63, 0.23, 0.96, 0.96, 0.~
## $ annotator_severity  <dbl> 0.36, -0.35, -0.48, 0.86, -0.54, -0.28, -0.21, 0.3~
## $ std_err             <dbl> 0.34, 1.00, 0.31, 0.29, 0.51, 0.48, 0.30, 0.36, 0.~
## $ annotator_infitms   <dbl> 1.35, 0.57, 1.16, 1.18, 0.95, 0.60, 0.92, 0.92, 1.~
## $ annotator_outfitms  <dbl> 1.23, 0.42, 0.67, 0.87, 1.00, 0.56, 0.71, 0.81, 2.~
## $ hypothesis          <dbl> -1.13017776, -1.14697343, -0.20736933, -0.05553560~
## $ target_race         <chr> "white", "0", "0", "0", "0", "black", "white", "0"~
## $ target_gender       <chr> "False", "True", "False", "False", "True", "False"~
## $ target_sexuality    <chr> "0", "0", "0", "0", "0", "gay", "0", "gay", "0", "~
## $ annotator_gender    <chr> "male", "female", "male", "male", "female", "male"~
## $ annotator_educ      <chr> "college_grad_ba", "some_college", "some_college",~
## $ annotator_income    <chr> "<10k", "<10k", "100k-200k", "10k-50k", "10k-50k",~
## $ annotator_ideology  <chr> "neutral", "neutral", "slightly_conservative", "ne~
## $ annotator_age       <dbl> 25, 30, 41, 42, 27, 30, 37, 47, 35, 30, 30, 64, 33~
## $ annotator_race      <chr> "white", "white", "white", "white", "white", "whit~
## $ annotator_religion  <chr> "christian", "christian", "nothing", "atheist", "c~
## $ annotator_sexuality <chr> "straight", "straight", "straight", "straight", "s~
\end{verbatim}

The original data contains 131 variables and 135,556 rows. To be able to
work with it, we filtered it down to 30 relevant variables. the remain
data holds information both on the annotator and on the post itself, we
will be referencing the post as the ``target'' from here on.\\
In this data, you will find many types of variables, for example the
``hate\_speech\_score'' variable is a numerical variable, while the
``annotator\_race'' variable is a categorical one.

The article: \url{https://arxiv.org/abs/2009.10277} The data:
\url{https://huggingface.co/datasets/ucberkeley-dlab/measuring-hate-speech}

\hypertarget{all-along-this-presntation-we-will-mark-annotator-as-red-and-target-as-blue.}{%
\subsubsection{All along this presntation we will mark annotator as red
and target as
blue.}\label{all-along-this-presntation-we-will-mark-annotator-as-red-and-target-as-blue.}}

\hypertarget{preliminary-results}{%
\subsection{3. Preliminary results}\label{preliminary-results}}

As we can in the graph below there is a big difference between the
annotators and the targets distributions. Clearly, most of the
annotators are self defined as whites while most of the targets are
tagged as blacks.

\includegraphics{proposal_files/figure-latex/unnamed-chunk-8-1.pdf}

\includegraphics{proposal_files/figure-latex/unnamed-chunk-9-1.pdf}

As we can see the average age of the annotator is about 30, and the
distribution is inclined towards the younger age.

\includegraphics{proposal_files/figure-latex/unnamed-chunk-10-1.pdf}

Here it looks like the way that all the races measure hate speech is the
same but is it so? In the next graphs, we will see that not so much.

\includegraphics{proposal_files/figure-latex/unnamed-chunk-11-1.pdf}

As promised in the next graphs we are diving into more detail, and it is
very interesting to see that all races measured lower hate scores when
their target is white.

\includegraphics{proposal_files/figure-latex/unnamed-chunk-13-1.pdf}

\hypertarget{data-analysis-plan}{%
\subsection{4. Data analysis plan}\label{data-analysis-plan}}

We will try to predict the significance of the difference between the
way annotators from different backgrounds are choosing to score hate
speeches. To do so we will try to find which features gives us the
largest variance and significance between different backrounds.

For the prediction we will use basic statistical methods such as Pearson
correlation, the covariance between variables, and linear regression
models.

The results we would like to see, to support our hypothesis, are strong
connections between the way people see hate speech and their background.
We chose to divide the work as follow: one of us is more responsible for
the statistical concepts while the other is more focused on prepare the
data and the visualization parts.

\hypertarget{appendix}{%
\subsection{Appendix}\label{appendix}}

Our GitHub: \url{https://github.com/yo21/algorithm-bias-R}

\hypertarget{articles-about-algorithms-bias}{%
\subsubsection{Articles about Algorithms
bias:}\label{articles-about-algorithms-bias}}

A white mask worked better': why algorithms are not colour blind.

\begin{verbatim}
https://www.theguardian.com/technology/2017/may/28/joy-buolamwini-when-algorithms-are-racist-facial-recognition-bias
\end{verbatim}

How to write a racist AI in R without really trying.

\begin{verbatim}
https://notstatschat.rbind.io/2018/09/27/how-to-write-a-racist-ai-in-r-without-really-trying/
\end{verbatim}

\hypertarget{data-readme}{%
\subsubsection{Data README}\label{data-readme}}

\begin{Shaded}
\begin{Highlighting}[]
\FunctionTok{cat}\NormalTok{(}\FunctionTok{readLines}\NormalTok{(}\StringTok{\textquotesingle{}../data/README.md\textquotesingle{}}\NormalTok{), }\AttributeTok{sep =} \StringTok{\textquotesingle{}}\SpecialCharTok{\textbackslash{}n}\StringTok{\textquotesingle{}}\NormalTok{)}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
# algorithm-bias-R
Searching for proof that algorithmic bias is significant 
# SISE2601 Project data description
================
Eran Aizikovich and Yuval Segal

Our original Data set has 131 columns, most of them were redundant. After cleaning the data, without losing any information that is meaningful to our research we were left with 30 columns.
Rows: 135,556
Columns: 30
Primary key in our data:
    * comment_id <int>   unique ID for each comment
    * annotator_id <int> unique ID for each annotator
* sentiment <dbl>  ordinal label that is combined into the continuous score
* respect <dbl> ordinal label that is combined into the continuous score
* insult <dbl> ordinal label that is combined into the continuous score
* humiliate <dbl> ordinal label that is combined into the continuous score
* dehumanize <dbl> ordinal label that is combined into the continuous score
* violence <dbl> ordinal label that is combined into the continuous score
* genocide <dbl> ordinal label that is combined into the continuous score
* attack_defend <dbl> ordinal label that is combined into the continuous score
* hatespeech <dbl> ordinal label that is combined into the continuous score.
* hate_speech_score <dbl> The continuous score of the post, higher = more hateful .
* infitms <dbl> inlier sensitive value(continuous) of the comment.
* outfitms <dbl> outlier sensitive value(continuous) of a comment.
* annotator_severity <dbl> continuous value that estimates the annotatorâ€™s survey interpretation bias.
* std_err <dbl> continuous value of the standard deviation between annotators on this comment.
* annotator_infitms  <dbl> inlier sensitive value(continuous) of the annotator.
* annotator_outfitms <dbl> outlier sensitive value(continuous) of a comment.
* target_race <chr>  categorical variable, tagged by annotator
* target_gender <chr>  categorical variable, tagged by annotator
* target_sexuality <chr> categorical variable, tagged by annotator
* annotator_gender <chr> categorical variable
* annotator_educ <chr> categorical variable, annotatorâ€™s education.
* annotator_income <chr> categorical variable, within range.
* annotator_ideology <chr> categorical variable: neutral, slightly_conservative, extremely_liberal, extremely_conservative  , liberal   , conservative, slightly_liberal, no_opinion
* annotator_age <dbl> Discrete variable
* annotator_race <chr> Categorical variable
* annotator_religion  <chr> Categorical variable
* annotator_sexuality <chr> Categorical variable: straight, bisexual, gay, other
  
  
Our original data had 131 columns; the additional columns were removed by us in the cleaning stage.
The columns we removed were:
(All columns besides the first three were Boolean variables.)

platform, status, text, target_race_asian, target_race_black, target_race_latinx, target_race_middle_eastern, target_race_native_american, target_race_pacific_islander, target_race_white, target_race_other, target_religion_atheist, target_religion_buddhist, target_religion_christian, target_religion_hindu, target_religion_jewish, target_religion_mormon, target_religion_muslim, target_religion_other, target_origin_immigrant, target_origin_migrant_worker , target_origin_specific_country, target_origin_undocumented, target_origin_other, target_gender_men, target_gender_non_binary, target_gender_transgender_men, target_gender_transgender_unspecified, target_gender_transgender_women, target_gender_women, target_gender_other, target_sexuality_bisexual, target_sexuality_gay , target_sexuality_lesbian, target_sexuality_straight, target_sexuality_other, target_age_children , target_age_teenagers , target_age_young_adults , target_age_middle_aged, target_age_seniors, target_age_other , target_disability_physical, target_disability_cognitive , target_disability_neurological, target_disability_visually_impaired, target_disability_hearing_impaired, target_disability_unspecific, target_disability_other , target_disability, annotator_trans , annotator_gender_men , annotator_gender_women, annotator_gender_non_binary , annotator_gender_prefer_not_to_say, annotator_gender_self_describe, annotator_transgender, annotator_cisgender, annotator_transgender_prefer_not_to_say, annotator_education_some_high_school , annotator_education_high_school_grad , annotator_education_some_college , annotator_education_college_grad_aa , annotator_education_college_grad_ba, annotator_education_professional_degree , annotator_education_masters , annotator_education_phd , annotator_income_<10k, annotator_income_10k>50k, annotator_income_50k>100k, annotator_income_100k>200k, annotator_income_>200k, annotator_ideology_extremeley_conservative, annotator_ideology_conservative , annotator_ideology_slightly_conservative, annotator_ideology_neutral, annotator_ideology_slightly_liberal , annotator_ideology_liberal, annotator_ideology_extremeley_liberal, annotator_ideology_no_opinion, annotator_race_asian, annotator_race_black, annotator_race_latinx, annotator_race_middle_eastern, annotator_race_native_american, annotator_race_pacific_islander, annotator_race_white, annotator_race_other, annotator_religion_atheist, annotator_religion_buddhist , annotator_religion_christian , annotator_religion_hindu , annotator_religion_jewish, annotator_religion_mormon, annotator_religion_muslim, annotator_religion_nothing, annotator_religion_other, annotator_sexuality_bisexual, annotator_sexuality_gay, annotator_sexuality_straight, annotator_sexuality_other.
\end{verbatim}

\hypertarget{source-code}{%
\subsubsection{Source code}\label{source-code}}

\begin{Shaded}
\begin{Highlighting}[]
\FunctionTok{library}\NormalTok{(knitr)}
\FunctionTok{library}\NormalTok{(tidyverse)}
\FunctionTok{library}\NormalTok{(broom)}
\FunctionTok{library}\NormalTok{(htmltools)}
\FunctionTok{library}\NormalTok{(}\StringTok{"tidyverse"}\NormalTok{)}
\FunctionTok{library}\NormalTok{(}\StringTok{"ggalluvial"}\NormalTok{)}
\FunctionTok{library}\NormalTok{(}\StringTok{"gridExtra"}\NormalTok{) }
\CommentTok{\# opts\_chunk$set(echo=FALSE) \# hide source code in the document}


\NormalTok{path }\OtherTok{\textless{}{-}} \FunctionTok{setwd}\NormalTok{(}\StringTok{".."}\NormalTok{)}
\NormalTok{df }\OtherTok{\textless{}{-}} \FunctionTok{read.csv}\NormalTok{(}
  \StringTok{"data}\SpecialCharTok{\textbackslash{}\textbackslash{}}\StringTok{measuring\_hate\_speech.csv"}\NormalTok{)}
\NormalTok{df\_wo\_red }\OtherTok{\textless{}{-}}\NormalTok{ df                }
\NormalTok{df\_wo\_red[}\StringTok{\textquotesingle{}annotator\_race\textquotesingle{}}\NormalTok{] }\OtherTok{\textless{}{-}} \DecValTok{0}
                       
\NormalTok{df\_wo\_red }\OtherTok{\textless{}{-}} \FunctionTok{within}\NormalTok{(df\_wo\_red, annotator\_race[annotator\_race\_asian }\SpecialCharTok{==} \StringTok{\textquotesingle{}True\textquotesingle{}}\NormalTok{]}\OtherTok{\textless{}{-}}\StringTok{\textquotesingle{}asian\textquotesingle{}}\NormalTok{)}
\NormalTok{df\_wo\_red }\OtherTok{\textless{}{-}} \FunctionTok{within}\NormalTok{(df\_wo\_red, annotator\_race[annotator\_race\_black }\SpecialCharTok{==} \StringTok{\textquotesingle{}True\textquotesingle{}}\NormalTok{]}\OtherTok{\textless{}{-}}\StringTok{\textquotesingle{}black\textquotesingle{}}\NormalTok{)}
\NormalTok{df\_wo\_red }\OtherTok{\textless{}{-}} \FunctionTok{within}\NormalTok{(df\_wo\_red, annotator\_race[annotator\_race\_latinx }\SpecialCharTok{==} \StringTok{\textquotesingle{}True\textquotesingle{}}\NormalTok{]}\OtherTok{\textless{}{-}}\StringTok{\textquotesingle{}latinx\textquotesingle{}}\NormalTok{)}
\NormalTok{df\_wo\_red }\OtherTok{\textless{}{-}} \FunctionTok{within}\NormalTok{(df\_wo\_red, annotator\_race[annotator\_race\_middle\_eastern }\SpecialCharTok{==} \StringTok{\textquotesingle{}True\textquotesingle{}}\NormalTok{]}\OtherTok{\textless{}{-}}\StringTok{\textquotesingle{}middle\_eastern\textquotesingle{}}\NormalTok{)}
\NormalTok{df\_wo\_red }\OtherTok{\textless{}{-}} \FunctionTok{within}\NormalTok{(df\_wo\_red, annotator\_race[annotator\_race\_native\_american }\SpecialCharTok{==} \StringTok{\textquotesingle{}True\textquotesingle{}}\NormalTok{]}\OtherTok{\textless{}{-}}\StringTok{\textquotesingle{}native\_american\textquotesingle{}}\NormalTok{)}
\NormalTok{df\_wo\_red }\OtherTok{\textless{}{-}} \FunctionTok{within}\NormalTok{(df\_wo\_red, annotator\_race[annotator\_race\_pacific\_islander }\SpecialCharTok{==} \StringTok{\textquotesingle{}True\textquotesingle{}}\NormalTok{]}\OtherTok{\textless{}{-}}\StringTok{\textquotesingle{}pacific\_islander\textquotesingle{}}\NormalTok{)}
\NormalTok{df\_wo\_red }\OtherTok{\textless{}{-}} \FunctionTok{within}\NormalTok{(df\_wo\_red, annotator\_race[annotator\_race\_white }\SpecialCharTok{==} \StringTok{\textquotesingle{}True\textquotesingle{}}\NormalTok{]}\OtherTok{\textless{}{-}}\StringTok{\textquotesingle{}white\textquotesingle{}}\NormalTok{)}
\NormalTok{df\_wo\_red }\OtherTok{\textless{}{-}} \FunctionTok{within}\NormalTok{(df\_wo\_red, annotator\_race[annotator\_race\_other }\SpecialCharTok{==} \StringTok{\textquotesingle{}True\textquotesingle{}}\NormalTok{]}\OtherTok{\textless{}{-}}\StringTok{\textquotesingle{}other\textquotesingle{}}\NormalTok{)}
\CommentTok{\# df\_wo\_red \textless{}{-} filter(df\_wo\_red, annotator\_race != 0)}



\NormalTok{df\_wo\_red[}\StringTok{\textquotesingle{}target\_race\textquotesingle{}}\NormalTok{] }\OtherTok{\textless{}{-}} \DecValTok{0}

\NormalTok{df\_wo\_red }\OtherTok{\textless{}{-}} \FunctionTok{within}\NormalTok{(df\_wo\_red, target\_race[target\_race\_asian }\SpecialCharTok{==} \StringTok{\textquotesingle{}True\textquotesingle{}}\NormalTok{]}\OtherTok{\textless{}{-}}\StringTok{\textquotesingle{}asian\textquotesingle{}}\NormalTok{)}
\NormalTok{df\_wo\_red }\OtherTok{\textless{}{-}} \FunctionTok{within}\NormalTok{(df\_wo\_red, target\_race[target\_race\_black }\SpecialCharTok{==} \StringTok{\textquotesingle{}True\textquotesingle{}}\NormalTok{]}\OtherTok{\textless{}{-}}\StringTok{\textquotesingle{}black\textquotesingle{}}\NormalTok{)}
\NormalTok{df\_wo\_red }\OtherTok{\textless{}{-}} \FunctionTok{within}\NormalTok{(df\_wo\_red, target\_race[target\_race\_latinx }\SpecialCharTok{==} \StringTok{\textquotesingle{}True\textquotesingle{}}\NormalTok{]}\OtherTok{\textless{}{-}}\StringTok{\textquotesingle{}latinx\textquotesingle{}}\NormalTok{)}
\NormalTok{df\_wo\_red }\OtherTok{\textless{}{-}} \FunctionTok{within}\NormalTok{(df\_wo\_red, target\_race[target\_race\_middle\_eastern }\SpecialCharTok{==} \StringTok{\textquotesingle{}True\textquotesingle{}}\NormalTok{]}\OtherTok{\textless{}{-}}\StringTok{\textquotesingle{}middle\_eastern\textquotesingle{}}\NormalTok{)}
\NormalTok{df\_wo\_red }\OtherTok{\textless{}{-}} \FunctionTok{within}\NormalTok{(df\_wo\_red, target\_race[target\_race\_native\_american }\SpecialCharTok{==} \StringTok{\textquotesingle{}True\textquotesingle{}}\NormalTok{]}\OtherTok{\textless{}{-}}\StringTok{\textquotesingle{}native\_american\textquotesingle{}}\NormalTok{)}
\NormalTok{df\_wo\_red }\OtherTok{\textless{}{-}} \FunctionTok{within}\NormalTok{(df\_wo\_red, target\_race[target\_race\_pacific\_islander }\SpecialCharTok{==} \StringTok{\textquotesingle{}True\textquotesingle{}}\NormalTok{]}\OtherTok{\textless{}{-}}\StringTok{\textquotesingle{}pacific\_islander\textquotesingle{}}\NormalTok{)}
\NormalTok{df\_wo\_red }\OtherTok{\textless{}{-}} \FunctionTok{within}\NormalTok{(df\_wo\_red, target\_race[target\_race\_white }\SpecialCharTok{==} \StringTok{\textquotesingle{}True\textquotesingle{}}\NormalTok{]}\OtherTok{\textless{}{-}}\StringTok{\textquotesingle{}white\textquotesingle{}}\NormalTok{)}
\NormalTok{df\_wo\_red }\OtherTok{\textless{}{-}} \FunctionTok{within}\NormalTok{(df\_wo\_red, target\_race[target\_race\_other }\SpecialCharTok{==} \StringTok{\textquotesingle{}True\textquotesingle{}}\NormalTok{]}\OtherTok{\textless{}{-}}\StringTok{\textquotesingle{}other\textquotesingle{}}\NormalTok{)}
\CommentTok{\# df\_wo\_red \textless{}{-} filter(df\_wo\_red, target\_race != 0)}

\NormalTok{anno\_wo\_red}\OtherTok{\textless{}{-}}\NormalTok{df\_wo\_red}


\NormalTok{df\_wo\_red[}\StringTok{\textquotesingle{}annotator\_religion\textquotesingle{}}\NormalTok{] }\OtherTok{\textless{}{-}} \DecValTok{0}
                       
\NormalTok{df\_wo\_red }\OtherTok{\textless{}{-}} \FunctionTok{within}\NormalTok{(df\_wo\_red, annotator\_religion[annotator\_religion\_atheist }\SpecialCharTok{==} \StringTok{\textquotesingle{}True\textquotesingle{}}\NormalTok{]}\OtherTok{\textless{}{-}}\StringTok{\textquotesingle{}atheist\textquotesingle{}}\NormalTok{)}
\NormalTok{df\_wo\_red }\OtherTok{\textless{}{-}} \FunctionTok{within}\NormalTok{(df\_wo\_red, annotator\_religion[annotator\_religion\_buddhist }\SpecialCharTok{==} \StringTok{\textquotesingle{}True\textquotesingle{}}\NormalTok{]}\OtherTok{\textless{}{-}}\StringTok{\textquotesingle{}buddhist\textquotesingle{}}\NormalTok{)}
\NormalTok{df\_wo\_red }\OtherTok{\textless{}{-}} \FunctionTok{within}\NormalTok{(df\_wo\_red, annotator\_religion[annotator\_religion\_christian }\SpecialCharTok{==} \StringTok{\textquotesingle{}True\textquotesingle{}}\NormalTok{]}\OtherTok{\textless{}{-}}\StringTok{\textquotesingle{}christian\textquotesingle{}}\NormalTok{)}
\NormalTok{df\_wo\_red }\OtherTok{\textless{}{-}} \FunctionTok{within}\NormalTok{(df\_wo\_red, annotator\_religion[annotator\_religion\_hindu }\SpecialCharTok{==} \StringTok{\textquotesingle{}True\textquotesingle{}}\NormalTok{]}\OtherTok{\textless{}{-}}\StringTok{\textquotesingle{}hindu\textquotesingle{}}\NormalTok{)}
\NormalTok{df\_wo\_red }\OtherTok{\textless{}{-}} \FunctionTok{within}\NormalTok{(df\_wo\_red, annotator\_religion[annotator\_religion\_jewish }\SpecialCharTok{==} \StringTok{\textquotesingle{}True\textquotesingle{}}\NormalTok{]}\OtherTok{\textless{}{-}}\StringTok{\textquotesingle{}jewish\textquotesingle{}}\NormalTok{)}
\NormalTok{df\_wo\_red }\OtherTok{\textless{}{-}} \FunctionTok{within}\NormalTok{(df\_wo\_red, annotator\_religion[annotator\_religion\_mormon }\SpecialCharTok{==} \StringTok{\textquotesingle{}True\textquotesingle{}}\NormalTok{]}\OtherTok{\textless{}{-}}\StringTok{\textquotesingle{}mormon\textquotesingle{}}\NormalTok{)}
\NormalTok{df\_wo\_red }\OtherTok{\textless{}{-}} \FunctionTok{within}\NormalTok{(df\_wo\_red, annotator\_religion[annotator\_religion\_muslim }\SpecialCharTok{==} \StringTok{\textquotesingle{}True\textquotesingle{}}\NormalTok{]}\OtherTok{\textless{}{-}}\StringTok{\textquotesingle{}muslim\textquotesingle{}}\NormalTok{)}
\NormalTok{df\_wo\_red }\OtherTok{\textless{}{-}} \FunctionTok{within}\NormalTok{(df\_wo\_red, annotator\_religion[annotator\_religion\_nothing }\SpecialCharTok{==} \StringTok{\textquotesingle{}True\textquotesingle{}}\NormalTok{]}\OtherTok{\textless{}{-}}\StringTok{\textquotesingle{}nothing\textquotesingle{}}\NormalTok{)}
\NormalTok{df\_wo\_red }\OtherTok{\textless{}{-}} \FunctionTok{within}\NormalTok{(df\_wo\_red, annotator\_religion[annotator\_religion\_other }\SpecialCharTok{==} \StringTok{\textquotesingle{}True\textquotesingle{}}\NormalTok{]}\OtherTok{\textless{}{-}}\StringTok{\textquotesingle{}other\textquotesingle{}}\NormalTok{)}
\CommentTok{\# df\_wo\_red \textless{}{-} filter(df\_wo\_red, annotator\_religion!=0)}


\NormalTok{df\_wo\_red[}\StringTok{\textquotesingle{}target\_religion\textquotesingle{}}\NormalTok{] }\OtherTok{\textless{}{-}} \DecValTok{0}
                       
\NormalTok{df\_wo\_red }\OtherTok{\textless{}{-}} \FunctionTok{within}\NormalTok{(df\_wo\_red, target\_religion[target\_religion\_atheist }\SpecialCharTok{==} \StringTok{\textquotesingle{}True\textquotesingle{}}\NormalTok{]}\OtherTok{\textless{}{-}}\StringTok{\textquotesingle{}atheist\textquotesingle{}}\NormalTok{)}
\NormalTok{df\_wo\_red }\OtherTok{\textless{}{-}} \FunctionTok{within}\NormalTok{(df\_wo\_red, target\_religion[target\_religion\_buddhist }\SpecialCharTok{==} \StringTok{\textquotesingle{}True\textquotesingle{}}\NormalTok{]}\OtherTok{\textless{}{-}}\StringTok{\textquotesingle{}uddhist\textquotesingle{}}\NormalTok{)}
\NormalTok{df\_wo\_red }\OtherTok{\textless{}{-}} \FunctionTok{within}\NormalTok{(df\_wo\_red, target\_religion[target\_religion\_hindu }\SpecialCharTok{==} \StringTok{\textquotesingle{}True\textquotesingle{}}\NormalTok{]}\OtherTok{\textless{}{-}}\StringTok{\textquotesingle{}hindu\textquotesingle{}}\NormalTok{)}
\NormalTok{df\_wo\_red }\OtherTok{\textless{}{-}} \FunctionTok{within}\NormalTok{(df\_wo\_red, target\_religion[target\_religion\_jewish }\SpecialCharTok{==} \StringTok{\textquotesingle{}True\textquotesingle{}}\NormalTok{]}\OtherTok{\textless{}{-}}\StringTok{\textquotesingle{}jewish\textquotesingle{}}\NormalTok{)}
\NormalTok{df\_wo\_red }\OtherTok{\textless{}{-}} \FunctionTok{within}\NormalTok{(df\_wo\_red, target\_religion[target\_religion\_mormon }\SpecialCharTok{==} \StringTok{\textquotesingle{}True\textquotesingle{}}\NormalTok{]}\OtherTok{\textless{}{-}}\StringTok{\textquotesingle{}mormon\textquotesingle{}}\NormalTok{)}
\NormalTok{df\_wo\_red }\OtherTok{\textless{}{-}} \FunctionTok{within}\NormalTok{(df\_wo\_red, target\_religion[target\_religion\_muslim }\SpecialCharTok{==} \StringTok{\textquotesingle{}True\textquotesingle{}}\NormalTok{]}\OtherTok{\textless{}{-}}\StringTok{\textquotesingle{}muslim\textquotesingle{}}\NormalTok{)}
\NormalTok{df\_wo\_red }\OtherTok{\textless{}{-}} \FunctionTok{within}\NormalTok{(df\_wo\_red, target\_religion[target\_religion\_other }\SpecialCharTok{==} \StringTok{\textquotesingle{}True\textquotesingle{}}\NormalTok{]}\OtherTok{\textless{}{-}}\StringTok{\textquotesingle{}other\textquotesingle{}}\NormalTok{)}

\CommentTok{\# df\_wo\_red \textless{}{-} filter(df\_wo\_red, target\_religion != 0)}



\NormalTok{df\_wo\_red[}\StringTok{\textquotesingle{}annotator\_sexuality\textquotesingle{}}\NormalTok{] }\OtherTok{\textless{}{-}} \DecValTok{0}

\NormalTok{df\_wo\_red }\OtherTok{\textless{}{-}} \FunctionTok{within}\NormalTok{(df\_wo\_red, annotator\_sexuality[annotator\_sexuality\_bisexual }\SpecialCharTok{==} \StringTok{\textquotesingle{}True\textquotesingle{}}\NormalTok{]}\OtherTok{\textless{}{-}}\StringTok{\textquotesingle{}bisexual\textquotesingle{}}\NormalTok{)}
\NormalTok{df\_wo\_red }\OtherTok{\textless{}{-}} \FunctionTok{within}\NormalTok{(df\_wo\_red, annotator\_sexuality[annotator\_sexuality\_gay }\SpecialCharTok{==} \StringTok{\textquotesingle{}True\textquotesingle{}}\NormalTok{]}\OtherTok{\textless{}{-}}\StringTok{\textquotesingle{}gay\textquotesingle{}}\NormalTok{)}
\NormalTok{df\_wo\_red }\OtherTok{\textless{}{-}} \FunctionTok{within}\NormalTok{(df\_wo\_red, annotator\_sexuality[annotator\_sexuality\_straight }\SpecialCharTok{==} \StringTok{\textquotesingle{}True\textquotesingle{}}\NormalTok{]}\OtherTok{\textless{}{-}}\StringTok{\textquotesingle{}straight\textquotesingle{}}\NormalTok{)}
\NormalTok{df\_wo\_red }\OtherTok{\textless{}{-}} \FunctionTok{within}\NormalTok{(df\_wo\_red, annotator\_sexuality[annotator\_sexuality\_other }\SpecialCharTok{==} \StringTok{\textquotesingle{}True\textquotesingle{}}\NormalTok{]}\OtherTok{\textless{}{-}}\StringTok{\textquotesingle{}other\textquotesingle{}}\NormalTok{)}

\CommentTok{\# df\_wo\_red \textless{}{-} filter(df\_wo\_red, annotator\_sexuality!=0)}


\NormalTok{df\_wo\_red[}\StringTok{\textquotesingle{}target\_sexuality\textquotesingle{}}\NormalTok{] }\OtherTok{\textless{}{-}} \DecValTok{0}

\NormalTok{df\_wo\_red }\OtherTok{\textless{}{-}} \FunctionTok{within}\NormalTok{(df\_wo\_red, target\_sexuality[target\_sexuality\_bisexual }\SpecialCharTok{==} \StringTok{\textquotesingle{}True\textquotesingle{}}\NormalTok{]}\OtherTok{\textless{}{-}}\StringTok{\textquotesingle{}bisexual\textquotesingle{}}\NormalTok{)}
\NormalTok{df\_wo\_red }\OtherTok{\textless{}{-}} \FunctionTok{within}\NormalTok{(df\_wo\_red, target\_sexuality[target\_sexuality\_gay }\SpecialCharTok{==} \StringTok{\textquotesingle{}True\textquotesingle{}}\NormalTok{]}\OtherTok{\textless{}{-}}\StringTok{\textquotesingle{}gay\textquotesingle{}}\NormalTok{)}
\NormalTok{df\_wo\_red }\OtherTok{\textless{}{-}} \FunctionTok{within}\NormalTok{(df\_wo\_red, target\_sexuality[target\_sexuality\_lesbian }\SpecialCharTok{==} \StringTok{\textquotesingle{}True\textquotesingle{}}\NormalTok{]}\OtherTok{\textless{}{-}}\StringTok{\textquotesingle{}gay\textquotesingle{}}\NormalTok{)}
\NormalTok{df\_wo\_red }\OtherTok{\textless{}{-}} \FunctionTok{within}\NormalTok{(df\_wo\_red, target\_sexuality[target\_sexuality\_straight }\SpecialCharTok{==} \StringTok{\textquotesingle{}True\textquotesingle{}}\NormalTok{]}\OtherTok{\textless{}{-}}\StringTok{\textquotesingle{}straight\textquotesingle{}}\NormalTok{)}
\NormalTok{df\_wo\_red }\OtherTok{\textless{}{-}} \FunctionTok{within}\NormalTok{(df\_wo\_red, target\_sexuality[target\_sexuality\_other }\SpecialCharTok{==} \StringTok{\textquotesingle{}True\textquotesingle{}}\NormalTok{]}\OtherTok{\textless{}{-}}\StringTok{\textquotesingle{}other\textquotesingle{}}\NormalTok{)}

\CommentTok{\# df\_wo\_red \textless{}{-} filter(df\_wo\_red, target\_sexuality != 0)}
\CommentTok{\# Annotator}

 \CommentTok{\#Race}
\NormalTok{df\_wo\_red }\OtherTok{\textless{}{-}} \FunctionTok{subset}\NormalTok{(df\_wo\_red, }\AttributeTok{select =} \SpecialCharTok{{-}}\FunctionTok{c}\NormalTok{(annotator\_race\_asian, annotator\_race\_black, annotator\_race\_latinx, annotator\_race\_middle\_eastern, annotator\_race\_native\_american, annotator\_race\_pacific\_islander, annotator\_race\_white, annotator\_race\_other))}

 \CommentTok{\#Religion}
\NormalTok{df\_wo\_red }\OtherTok{\textless{}{-}} \FunctionTok{subset}\NormalTok{(df\_wo\_red, }\AttributeTok{select =} \SpecialCharTok{{-}}\FunctionTok{c}\NormalTok{(annotator\_religion\_atheist, annotator\_religion\_buddhist, annotator\_religion\_christian, annotator\_religion\_hindu, annotator\_religion\_jewish, annotator\_religion\_mormon, annotator\_religion\_muslim, annotator\_religion\_nothing, annotator\_religion\_other))}

 \CommentTok{\#Sexuality}
\NormalTok{df\_wo\_red }\OtherTok{\textless{}{-}} \FunctionTok{subset}\NormalTok{(df\_wo\_red, }\AttributeTok{select =} \SpecialCharTok{{-}}\FunctionTok{c}\NormalTok{(annotator\_sexuality\_bisexual, annotator\_sexuality\_gay, annotator\_sexuality\_straight, annotator\_sexuality\_other, annotator\_trans))}

\CommentTok{\#Target}
\NormalTok{df\_wo\_red }\OtherTok{\textless{}{-}} \FunctionTok{subset}\NormalTok{(df\_wo\_red, }\AttributeTok{select =} \SpecialCharTok{{-}}\FunctionTok{c}\NormalTok{( target\_race\_asian, target\_race\_black,}
\NormalTok{target\_race\_latinx, target\_race\_middle\_eastern, target\_race\_native\_american,}
\NormalTok{target\_race\_pacific\_islander, target\_race\_white, target\_race\_other, target\_religion\_atheist, target\_religion\_buddhist,}
\NormalTok{target\_religion\_christian, target\_religion\_hindu, target\_religion\_jewish,}
\NormalTok{target\_religion\_mormon, target\_religion\_muslim, target\_religion\_other,}
\NormalTok{target\_religion, target\_origin\_immigrant, target\_origin\_migrant\_worker,}
\NormalTok{target\_origin\_specific\_country, target\_origin\_undocumented, target\_origin\_other,}
\NormalTok{target\_origin, target\_gender\_men, target\_gender\_non\_binary,}
\NormalTok{target\_gender\_transgender\_men, target\_gender\_transgender\_unspecified, target\_gender\_transgender\_women,}
\NormalTok{target\_gender\_women, target\_gender\_other,}
\NormalTok{target\_sexuality\_bisexual, target\_sexuality\_gay, target\_sexuality\_lesbian,}
\NormalTok{target\_sexuality\_straight, target\_sexuality\_other,}
\NormalTok{target\_age\_children, target\_age\_teenagers, target\_age\_young\_adults,}
\NormalTok{target\_age\_middle\_aged, target\_age\_seniors, target\_age\_other,}
\NormalTok{target\_age, target\_disability\_physical, target\_disability\_cognitive,}
\NormalTok{target\_disability\_neurological, target\_disability\_visually\_impaired, target\_disability\_hearing\_impaired,}
\NormalTok{target\_disability\_unspecific, target\_disability\_other, target\_disability))}

\CommentTok{\# Post}
\NormalTok{df\_wo\_red }\OtherTok{\textless{}{-}} \FunctionTok{subset}\NormalTok{(df\_wo\_red, }\AttributeTok{select =} \SpecialCharTok{{-}}\FunctionTok{c}\NormalTok{(text, platform, status, text))}

\CommentTok{\# Redundant}
\NormalTok{df\_wo\_red }\OtherTok{\textless{}{-}} \FunctionTok{subset}\NormalTok{(df\_wo\_red, }\AttributeTok{select=}\SpecialCharTok{{-}}\FunctionTok{c}\NormalTok{(annotator\_income\_}\FloatTok{.10}\NormalTok{k,annotator\_income\_10k}\FloatTok{.50}\NormalTok{k, annotator\_income\_50k}\FloatTok{.100}\NormalTok{k, annotator\_income\_100k}\FloatTok{.200}\NormalTok{k,}
\NormalTok{annotator\_income\_}\FloatTok{.200}\NormalTok{k, annotator\_ideology\_extremeley\_conservative,annotator\_ideology\_conservative,}
\NormalTok{annotator\_ideology\_slightly\_conservative, annotator\_ideology\_neutral,annotator\_ideology\_slightly\_liberal,}
\NormalTok{annotator\_ideology\_liberal, annotator\_ideology\_extremeley\_liberal,annotator\_ideology\_no\_opinion, annotator\_education\_some\_high\_school,}
\NormalTok{annotator\_education\_high\_school\_grad, annotator\_education\_some\_college, annotator\_education\_college\_grad\_aa, annotator\_education\_college\_grad\_ba,}
\NormalTok{annotator\_education\_professional\_degree, annotator\_education\_masters, annotator\_education\_phd, annotator\_gender\_men, annotator\_gender\_women, annotator\_gender\_non\_binary, annotator\_gender\_prefer\_not\_to\_say, annotator\_gender\_self\_describe, annotator\_transgender, annotator\_cisgender, annotator\_transgender\_prefer\_not\_to\_say))}
\FunctionTok{glimpse}\NormalTok{(df\_wo\_red)}

\NormalTok{race\_filter }\OtherTok{\textless{}{-}}\NormalTok{ df\_wo\_red }\SpecialCharTok{\%\textgreater{}\%} \FunctionTok{filter}\NormalTok{(df\_wo\_red[}\StringTok{\textquotesingle{}target\_race\textquotesingle{}}\NormalTok{] }\SpecialCharTok{!=} \DecValTok{0}\NormalTok{)}

\NormalTok{p\_target }\OtherTok{\textless{}{-}} \FunctionTok{ggplot}\NormalTok{(race\_filter, }\FunctionTok{aes}\NormalTok{(}\AttributeTok{x=}\NormalTok{target\_race))}\SpecialCharTok{+}
  \FunctionTok{geom\_bar}\NormalTok{(}\AttributeTok{fill =} \StringTok{\textquotesingle{}dark blue\textquotesingle{}}\NormalTok{, }\AttributeTok{alpha =}\FloatTok{0.3}\NormalTok{) }\SpecialCharTok{+}
  \FunctionTok{labs}\NormalTok{(}
    \AttributeTok{x =} \StringTok{"Traget Race"}\NormalTok{,}
    \AttributeTok{y =} \StringTok{"Counter"}\NormalTok{,}
    \AttributeTok{title =} \StringTok{"Number of Target for each Race"}\NormalTok{,}
    \AttributeTok{subtitle =}\StringTok{"Dark blue fill for targets"}\NormalTok{,}
\NormalTok{  )}\SpecialCharTok{+}
  \FunctionTok{theme}\NormalTok{(}\AttributeTok{axis.text.x =} \FunctionTok{element\_text}\NormalTok{(}\AttributeTok{angle =} \DecValTok{75}\NormalTok{,}\AttributeTok{vjust =} \FloatTok{0.5}\NormalTok{),}
        \AttributeTok{axis.line =} \FunctionTok{element\_line}\NormalTok{( }\AttributeTok{colour =} \StringTok{"black"}\NormalTok{)}
\NormalTok{  )}

\NormalTok{race\_filter }\OtherTok{\textless{}{-}}\NormalTok{ race\_filter }\SpecialCharTok{\%\textgreater{}\%} \FunctionTok{filter}\NormalTok{(race\_filter[}\StringTok{\textquotesingle{}annotator\_race\textquotesingle{}}\NormalTok{] }\SpecialCharTok{!=} \DecValTok{0}\NormalTok{)}

\NormalTok{p\_anno }\OtherTok{\textless{}{-}} \FunctionTok{ggplot}\NormalTok{(race\_filter, }\FunctionTok{aes}\NormalTok{(}\AttributeTok{x=}\NormalTok{annotator\_race))}\SpecialCharTok{+}
  \FunctionTok{geom\_bar}\NormalTok{(}\AttributeTok{fill =} \StringTok{\textquotesingle{}dark red\textquotesingle{}}\NormalTok{, }\AttributeTok{alpha =}\FloatTok{0.3}\NormalTok{) }\SpecialCharTok{+}
  \FunctionTok{labs}\NormalTok{(}
    \AttributeTok{x =} \StringTok{"Traget Race"}\NormalTok{,}
    \AttributeTok{y =} \StringTok{"Counter"}\NormalTok{,}
    \AttributeTok{title =} \StringTok{"Number of Target for each Race"}\NormalTok{,}
    \AttributeTok{subtitle =}\StringTok{"Dark red fill for annotator"}\NormalTok{,}
\NormalTok{  )}\SpecialCharTok{+}
  \FunctionTok{theme}\NormalTok{(}\AttributeTok{axis.text.x =} \FunctionTok{element\_text}\NormalTok{(}\AttributeTok{angle =} \DecValTok{75}\NormalTok{,}\AttributeTok{vjust =} \FloatTok{0.5}\NormalTok{),}
        \AttributeTok{axis.line =} \FunctionTok{element\_line}\NormalTok{( }\AttributeTok{colour =} \StringTok{"black"}\NormalTok{)}
\NormalTok{  )}

\FunctionTok{grid.arrange}\NormalTok{(p\_anno,p\_target, }\AttributeTok{ncol=}\DecValTok{2}\NormalTok{)}
\CommentTok{\#("red", "blue", "yellow",\textquotesingle{}green\textquotesingle{})}

\NormalTok{race\_filter }\OtherTok{\textless{}{-}} \FunctionTok{within}\NormalTok{(race\_filter, annotator\_race[annotator\_race }\SpecialCharTok{==} \StringTok{\textquotesingle{}middle\_eastern\textquotesingle{}}\NormalTok{]}\OtherTok{\textless{}{-}}\StringTok{\textquotesingle{}other\textquotesingle{}}\NormalTok{)}
\NormalTok{race\_filter }\OtherTok{\textless{}{-}} \FunctionTok{within}\NormalTok{(race\_filter, annotator\_race[annotator\_race }\SpecialCharTok{==} \StringTok{\textquotesingle{}pacific\_islander\textquotesingle{}}\NormalTok{]}\OtherTok{\textless{}{-}}\StringTok{\textquotesingle{}other\textquotesingle{}}\NormalTok{)}
\NormalTok{race\_filter }\OtherTok{\textless{}{-}} \FunctionTok{within}\NormalTok{(race\_filter, annotator\_race[annotator\_race }\SpecialCharTok{==} \StringTok{\textquotesingle{}native\_american\textquotesingle{}}\NormalTok{]}\OtherTok{\textless{}{-}}\StringTok{\textquotesingle{}other\textquotesingle{}}\NormalTok{)}
\NormalTok{race\_filter }\OtherTok{\textless{}{-}} \FunctionTok{within}\NormalTok{(race\_filter, annotator\_race[annotator\_race }\SpecialCharTok{==} \StringTok{\textquotesingle{}0\textquotesingle{}}\NormalTok{]}\OtherTok{\textless{}{-}}\StringTok{\textquotesingle{}other\textquotesingle{}}\NormalTok{)}
\NormalTok{count\_races }\OtherTok{\textless{}{-}} \FunctionTok{count}\NormalTok{(race\_filter, target\_race, annotator\_race)}


\FunctionTok{ggplot}\NormalTok{(count\_races,}
       \FunctionTok{aes}\NormalTok{( }\AttributeTok{axis1 =}\NormalTok{ annotator\_race, }\AttributeTok{axis2 =}\NormalTok{ target\_race, }\AttributeTok{y=}\NormalTok{n)) }\SpecialCharTok{+}
    \FunctionTok{geom\_alluvium}\NormalTok{(}\FunctionTok{aes}\NormalTok{(}\AttributeTok{fill =}\NormalTok{ target\_race, }\AttributeTok{color =}\NormalTok{ target\_race), }
                  \AttributeTok{width =} \DecValTok{4}\SpecialCharTok{/}\DecValTok{12}\NormalTok{, }\AttributeTok{alpha =} \FloatTok{0.3}\NormalTok{, }\AttributeTok{knot.pos =} \FloatTok{0.4}\NormalTok{) }\SpecialCharTok{+}
    \FunctionTok{geom\_stratum}\NormalTok{(}\AttributeTok{width =} \DecValTok{1}\SpecialCharTok{/}\DecValTok{4}\NormalTok{,}\AttributeTok{color =} \StringTok{"grey"}\NormalTok{) }\SpecialCharTok{+}
    \FunctionTok{scale\_fill\_manual}\NormalTok{(}\AttributeTok{values=}\FunctionTok{c}\NormalTok{(}\StringTok{"red"}\NormalTok{, }\StringTok{"blue"}\NormalTok{, }\StringTok{"yellow"}\NormalTok{, }\StringTok{"purple"}\NormalTok{,}
                               \StringTok{"cadetblue4"}\NormalTok{, }\StringTok{"\#95CC5E"}\NormalTok{, }\StringTok{"lightgrey"}\NormalTok{, }\StringTok{"green"}\NormalTok{))}\SpecialCharTok{+}
    \FunctionTok{scale\_color\_manual}\NormalTok{(}\AttributeTok{values=}\FunctionTok{c}\NormalTok{(}\StringTok{"red"}\NormalTok{, }\StringTok{"blue"}\NormalTok{, }\StringTok{"yellow"}\NormalTok{, }\StringTok{"purple"}\NormalTok{,}
                                \StringTok{"cadetblue4"}\NormalTok{, }\StringTok{"\#95CC5E"}\NormalTok{, }\StringTok{"lightgrey"}\NormalTok{, }\StringTok{"green"}\NormalTok{))}\SpecialCharTok{+}
    \FunctionTok{geom\_text}\NormalTok{(}\AttributeTok{stat =} \StringTok{"stratum"}\NormalTok{, }\FunctionTok{aes}\NormalTok{(}\AttributeTok{label =} \FunctionTok{after\_stat}\NormalTok{(stratum)), }\AttributeTok{size=}\FloatTok{2.53}\NormalTok{) }\SpecialCharTok{+}
    \FunctionTok{scale\_x\_continuous}\NormalTok{(}\AttributeTok{breaks =} \DecValTok{1}\SpecialCharTok{:}\DecValTok{2}\NormalTok{, }\AttributeTok{labels =} \FunctionTok{c}\NormalTok{(}\StringTok{"Annotators"}\NormalTok{, }\StringTok{"Target"}\NormalTok{))  }\SpecialCharTok{+}
    \FunctionTok{theme\_minimal}\NormalTok{() }\SpecialCharTok{+}
    \FunctionTok{theme}\NormalTok{(}
        \AttributeTok{legend.position =} \StringTok{"left"}\NormalTok{,}
        \AttributeTok{panel.grid.major =} \FunctionTok{element\_blank}\NormalTok{(), }
        \AttributeTok{panel.grid.minor =} \FunctionTok{element\_blank}\NormalTok{(),}
        \AttributeTok{axis.text.y =} \FunctionTok{element\_blank}\NormalTok{(),}
        \AttributeTok{axis.text.x =} \FunctionTok{element\_text}\NormalTok{(}\AttributeTok{size =} \DecValTok{11}\NormalTok{, }\AttributeTok{face =} \StringTok{"bold"}\NormalTok{),}
\NormalTok{        )}\SpecialCharTok{+}
    \FunctionTok{labs}\NormalTok{(}
        \AttributeTok{title =} \StringTok{"Distribution of annotators race vs target race"}\NormalTok{,}
      \AttributeTok{subtitle =} \StringTok{"Emphasizes the Annotators Race and the race of the target they tagged"}\NormalTok{,}
      \AttributeTok{y =} \StringTok{\textquotesingle{}Races\textquotesingle{}}
      
\NormalTok{    )}
\NormalTok{p1 }\OtherTok{\textless{}{-}} \FunctionTok{ggplot}\NormalTok{(df\_wo\_red, }\FunctionTok{aes}\NormalTok{(}\AttributeTok{x=}\NormalTok{annotator\_age))}\SpecialCharTok{+}
  \FunctionTok{geom\_density}\NormalTok{(}\AttributeTok{fill =} \StringTok{\textquotesingle{}dark red\textquotesingle{}}\NormalTok{, }\AttributeTok{alpha =}\FloatTok{0.3}\NormalTok{) }\SpecialCharTok{+}
  \FunctionTok{labs}\NormalTok{(}
    \AttributeTok{x =} \StringTok{"Age"}\NormalTok{,}
    \AttributeTok{y =} \StringTok{"Density"}\NormalTok{,}
    
    \AttributeTok{title =} \StringTok{"Density of annotators age"}\NormalTok{,}
    
\NormalTok{  )}\SpecialCharTok{+}
  \FunctionTok{theme}\NormalTok{(}\AttributeTok{axis.text.x =} \FunctionTok{element\_text}\NormalTok{(}\AttributeTok{angle =} \DecValTok{75}\NormalTok{,}\AttributeTok{vjust =} \FloatTok{0.5}\NormalTok{),}
        \AttributeTok{axis.line =} \FunctionTok{element\_line}\NormalTok{( }\AttributeTok{colour =} \StringTok{"black"}\NormalTok{)}
\NormalTok{  )}
\NormalTok{p2 }\OtherTok{\textless{}{-}}  \FunctionTok{ggplot}\NormalTok{(df\_wo\_red, }\FunctionTok{aes}\NormalTok{(}\AttributeTok{x=}\NormalTok{annotator\_age))}\SpecialCharTok{+}
  \FunctionTok{geom\_bar}\NormalTok{(}\AttributeTok{fill =} \StringTok{\textquotesingle{}dark red\textquotesingle{}}\NormalTok{, }\AttributeTok{alpha =}\FloatTok{0.3}\NormalTok{) }\SpecialCharTok{+}
  \FunctionTok{labs}\NormalTok{(}
    \AttributeTok{x =} \StringTok{"Age "}\NormalTok{,}
    \AttributeTok{y =} \StringTok{"Count"}\NormalTok{,}
    
    \AttributeTok{title =} \StringTok{"Number of annotators age"}\NormalTok{,}
    
\NormalTok{  )}\SpecialCharTok{+}
  \FunctionTok{theme}\NormalTok{(}\AttributeTok{axis.text.x =} \FunctionTok{element\_text}\NormalTok{(}\AttributeTok{angle =} \DecValTok{75}\NormalTok{,}\AttributeTok{vjust =} \FloatTok{0.5}\NormalTok{),}
        \AttributeTok{axis.line =} \FunctionTok{element\_line}\NormalTok{( }\AttributeTok{colour =} \StringTok{"black"}\NormalTok{)}
\NormalTok{  )}

\FunctionTok{grid.arrange}\NormalTok{(p1,p2, }\AttributeTok{ncol=}\DecValTok{2}\NormalTok{)}
\FunctionTok{ggplot}\NormalTok{(race\_filter, }\FunctionTok{aes}\NormalTok{ (}\AttributeTok{x =}\NormalTok{ hate\_speech\_score, }\AttributeTok{fill =}\NormalTok{ annotator\_race))}\SpecialCharTok{+}
  \FunctionTok{geom\_density}\NormalTok{(}\AttributeTok{alpha =}\FloatTok{0.2}\NormalTok{)}\SpecialCharTok{+}
  \FunctionTok{labs}\NormalTok{(}
    \AttributeTok{title =} \StringTok{"Density for hate speech score by race"}\NormalTok{, }
    \AttributeTok{subtitle =} \StringTok{"color is for the annotator race"}\NormalTok{, }
    \AttributeTok{x=} \StringTok{"hate speech score"}\NormalTok{, }
    \AttributeTok{y =} \StringTok{"density"}\NormalTok{,}
    \AttributeTok{fill =} \StringTok{"Annotator Race"}\NormalTok{)}\SpecialCharTok{+}
  \FunctionTok{theme\_minimal}\NormalTok{()}
\NormalTok{white\_anno }\OtherTok{\textless{}{-}}\NormalTok{ race\_filter }\SpecialCharTok{\%\textgreater{}\%} \FunctionTok{filter}\NormalTok{(annotator\_race }\SpecialCharTok{==} \StringTok{\textquotesingle{}white\textquotesingle{}}\SpecialCharTok{\&}
\NormalTok{                                       target\_race }\SpecialCharTok{!=} \StringTok{"other"}\SpecialCharTok{\&}
\NormalTok{                                       target\_race }\SpecialCharTok{!=} \StringTok{"pacific\_islander"}\SpecialCharTok{\&}
\NormalTok{                                       target\_race }\SpecialCharTok{!=} \StringTok{"native\_american"}\SpecialCharTok{\&}
\NormalTok{                                       target\_race }\SpecialCharTok{!=} \StringTok{"middle\_eastern"}\NormalTok{)}


\NormalTok{black\_anno }\OtherTok{\textless{}{-}}\NormalTok{ race\_filter }\SpecialCharTok{\%\textgreater{}\%} \FunctionTok{filter}\NormalTok{(annotator\_race }\SpecialCharTok{==} \StringTok{\textquotesingle{}black\textquotesingle{}}\SpecialCharTok{\&}
\NormalTok{                                       target\_race }\SpecialCharTok{!=} \StringTok{"other"}\SpecialCharTok{\&}
\NormalTok{                                       target\_race }\SpecialCharTok{!=} \StringTok{"pacific\_islander"}\SpecialCharTok{\&}
\NormalTok{                                       target\_race }\SpecialCharTok{!=} \StringTok{"native\_american"}\SpecialCharTok{\&}
\NormalTok{                                       target\_race }\SpecialCharTok{!=} \StringTok{"middle\_eastern"}\NormalTok{)}

\NormalTok{asian\_anno }\OtherTok{\textless{}{-}}\NormalTok{ race\_filter }\SpecialCharTok{\%\textgreater{}\%} \FunctionTok{filter}\NormalTok{(annotator\_race }\SpecialCharTok{==} \StringTok{\textquotesingle{}asian\textquotesingle{}}\SpecialCharTok{\&}
\NormalTok{                                       target\_race }\SpecialCharTok{!=} \StringTok{"other"}\SpecialCharTok{\&}
\NormalTok{                                       target\_race }\SpecialCharTok{!=} \StringTok{"pacific\_islander"}\SpecialCharTok{\&}
\NormalTok{                                       target\_race }\SpecialCharTok{!=} \StringTok{"native\_american"}\SpecialCharTok{\&}
\NormalTok{                                       target\_race }\SpecialCharTok{!=} \StringTok{"middle\_eastern"}\NormalTok{)}

\NormalTok{latin\_anno }\OtherTok{\textless{}{-}}\NormalTok{ race\_filter }\SpecialCharTok{\%\textgreater{}\%} \FunctionTok{filter}\NormalTok{(annotator\_race }\SpecialCharTok{==} \StringTok{\textquotesingle{}latinx\textquotesingle{}}\SpecialCharTok{\&}
\NormalTok{                                       target\_race }\SpecialCharTok{!=} \StringTok{"other"}\SpecialCharTok{\&}
\NormalTok{                                       target\_race }\SpecialCharTok{!=} \StringTok{"pacific\_islander"}\SpecialCharTok{\&}
\NormalTok{                                       target\_race }\SpecialCharTok{!=} \StringTok{"native\_american"}\SpecialCharTok{\&}
\NormalTok{                                       target\_race }\SpecialCharTok{!=} \StringTok{"middle\_eastern"}\NormalTok{)}


\NormalTok{plot\_w }\OtherTok{\textless{}{-}} \FunctionTok{ggplot}\NormalTok{(white\_anno, }\FunctionTok{aes}\NormalTok{ (}\AttributeTok{x =}\NormalTok{ hate\_speech\_score, }\AttributeTok{fill =}\NormalTok{ target\_race))}\SpecialCharTok{+}
  \FunctionTok{geom\_density}\NormalTok{(}\AttributeTok{alpha =}\FloatTok{0.2}\NormalTok{)}\SpecialCharTok{+}
   \FunctionTok{scale\_fill\_manual}\NormalTok{(}\AttributeTok{values=}\FunctionTok{c}\NormalTok{(}\StringTok{"red"}\NormalTok{, }\StringTok{"blue"}\NormalTok{, }\StringTok{"yellow"}\NormalTok{,}\StringTok{\textquotesingle{}green\textquotesingle{}}\NormalTok{))}\SpecialCharTok{+}
  \FunctionTok{labs}\NormalTok{(}
    \AttributeTok{title =} \StringTok{"White annotator"}\NormalTok{, }
    \AttributeTok{subtitle =} \StringTok{"Density of score by target race"}\NormalTok{, }
    \AttributeTok{x=} \StringTok{"Hate Speech Score"}\NormalTok{, }
    \AttributeTok{y =} \StringTok{"Density"}\NormalTok{,}
    \AttributeTok{fill =} \StringTok{"Traget"}\NormalTok{)}\SpecialCharTok{+}
  \FunctionTok{theme\_minimal}\NormalTok{()}


\NormalTok{plot\_b }\OtherTok{\textless{}{-}} \FunctionTok{ggplot}\NormalTok{(black\_anno, }\FunctionTok{aes}\NormalTok{ (}\AttributeTok{x =}\NormalTok{ hate\_speech\_score, }\AttributeTok{fill =}\NormalTok{ target\_race))}\SpecialCharTok{+}
  \FunctionTok{geom\_density}\NormalTok{(}\AttributeTok{alpha =}\FloatTok{0.2}\NormalTok{)}\SpecialCharTok{+}
   \FunctionTok{scale\_fill\_manual}\NormalTok{(}\AttributeTok{values=}\FunctionTok{c}\NormalTok{(}\StringTok{"red"}\NormalTok{, }\StringTok{"blue"}\NormalTok{, }\StringTok{"yellow"}\NormalTok{,}\StringTok{\textquotesingle{}green\textquotesingle{}}\NormalTok{))}\SpecialCharTok{+}
  \FunctionTok{labs}\NormalTok{(}
    \AttributeTok{title =} \StringTok{"Black annotator"}\NormalTok{, }
    \AttributeTok{subtitle =} \StringTok{"Density of score by target race"}\NormalTok{, }
    \AttributeTok{x=} \StringTok{"Hate Speech Score"}\NormalTok{, }
    \AttributeTok{y =} \StringTok{"Density"}\NormalTok{,}
    \AttributeTok{fill =} \StringTok{"Traget"}\NormalTok{)}\SpecialCharTok{+}
  \FunctionTok{theme\_minimal}\NormalTok{()}

\NormalTok{plot\_a }\OtherTok{\textless{}{-}} \FunctionTok{ggplot}\NormalTok{(asian\_anno, }\FunctionTok{aes}\NormalTok{ (}\AttributeTok{x =}\NormalTok{ hate\_speech\_score, }\AttributeTok{fill =}\NormalTok{ target\_race))}\SpecialCharTok{+}
  \FunctionTok{geom\_density}\NormalTok{(}\AttributeTok{alpha =}\FloatTok{0.2}\NormalTok{)}\SpecialCharTok{+}
   \FunctionTok{scale\_fill\_manual}\NormalTok{(}\AttributeTok{values=}\FunctionTok{c}\NormalTok{(}\StringTok{"red"}\NormalTok{, }\StringTok{"blue"}\NormalTok{, }\StringTok{"yellow"}\NormalTok{,}\StringTok{\textquotesingle{}green\textquotesingle{}}\NormalTok{))}\SpecialCharTok{+}
  \FunctionTok{labs}\NormalTok{(}
    \AttributeTok{title =} \StringTok{"Asian annotator"}\NormalTok{, }
    \AttributeTok{subtitle =} \StringTok{"Density of score by target race"}\NormalTok{, }
    \AttributeTok{x=} \StringTok{"Hate Speech Score"}\NormalTok{, }
    \AttributeTok{y =} \StringTok{"Density"}\NormalTok{,}
    \AttributeTok{fill =} \StringTok{"Target"}\NormalTok{)}\SpecialCharTok{+}
  \FunctionTok{theme\_minimal}\NormalTok{()}

\NormalTok{plot\_l }\OtherTok{\textless{}{-}} \FunctionTok{ggplot}\NormalTok{(latin\_anno, }\FunctionTok{aes}\NormalTok{ (}\AttributeTok{x =}\NormalTok{ hate\_speech\_score, }\AttributeTok{fill =}\NormalTok{ target\_race))}\SpecialCharTok{+}
  \FunctionTok{geom\_density}\NormalTok{(}\AttributeTok{alpha =}\FloatTok{0.2}\NormalTok{)}\SpecialCharTok{+}
   \FunctionTok{scale\_fill\_manual}\NormalTok{(}\AttributeTok{values=}\FunctionTok{c}\NormalTok{(}\StringTok{"red"}\NormalTok{, }\StringTok{"blue"}\NormalTok{, }\StringTok{"yellow"}\NormalTok{,}\StringTok{\textquotesingle{}green\textquotesingle{}}\NormalTok{))}\SpecialCharTok{+}
  \FunctionTok{labs}\NormalTok{(}
    \AttributeTok{title =} \StringTok{"Latin annotator"}\NormalTok{, }
    \AttributeTok{subtitle =} \StringTok{"Density of score by target race"}\NormalTok{, }
    \AttributeTok{x=} \StringTok{"Hate Speech Score"}\NormalTok{, }
    \AttributeTok{y =} \StringTok{"Density"}\NormalTok{,}
    \AttributeTok{fill =} \StringTok{"Target"}\NormalTok{)}\SpecialCharTok{+}
  \FunctionTok{theme\_minimal}\NormalTok{()}

\FunctionTok{grid.arrange}\NormalTok{(plot\_w, plot\_b, plot\_a, plot\_l, }\AttributeTok{ncol=}\DecValTok{2}\NormalTok{)}

\FunctionTok{cat}\NormalTok{(}\FunctionTok{readLines}\NormalTok{(}\StringTok{\textquotesingle{}../data/README.md\textquotesingle{}}\NormalTok{), }\AttributeTok{sep =} \StringTok{\textquotesingle{}}\SpecialCharTok{\textbackslash{}n}\StringTok{\textquotesingle{}}\NormalTok{)}
\end{Highlighting}
\end{Shaded}


\end{document}
